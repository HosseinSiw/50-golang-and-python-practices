package main

import (
	"fmt"
	"net"
	"time"
)

func scanPort(protocol, hostname string, port int, timeout time.Duration) bool {
	address := fmt.Sprintf("%s:%d", hostname, port)
	conn, err := net.DialTimeout(protocol, address, timeout)
	if err != nil {
		return false
	}
	conn.Close()
	return true
}

//func main() {
//	hostname := "37.27.127.144"
//	ports := []int{21, 22, 23, 25, 80, 443, 3306, 3389, 8080} // Add more if needed
//	openPorts := []int{}
//
//	timeout := 1 * time.Second
//
//	for _, port := range ports {
//		if scanPort("tcp", hostname, port, timeout) {
//			fmt.Printf("Port %d is open\n", port)
//			openPorts = append(openPorts, port)
//		} else {
//			fmt.Printf("Port %d is closed\n", port)
//		}
//	}
//
//	// Sort and display open ports
//	sort.Ints(openPorts)
//	fmt.Printf("\nOpen ports: %v\n", openPorts)
//}
